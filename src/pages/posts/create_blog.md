---
layout: ../../layouts/Post.astro
title: AstroとCloudflareでブロクを作ってみた
image: https://blog-images.0maru.dev/fujikokyoto0H0264_TP_V.webp
createdAt: '2023/10/01'
tags: [ "Astro", "Cloudflare", "環境" ]
status: published
---

7年とか8年前から個人ブログを作っては消してを繰り返していましたが、そろそろ本腰をいれて個人ブログを作ろうと思いとやっとこさ作成しました。   
~~作り始めてから本格的な公開までなんだかんだで２ヶ月以上掛かっていますが...~~

note とかQiita とかZenn とか大学生の頃から色々わたり歩いて来て、 ここ数年は Zenn を使っていました。  
Zenn もMarkdown で書けて、管理も簡単で投げ銭のような機能もありすごく良いサービスなのですが、  
3行くらいの雑な記事や備忘録みたいなものも書きたかったので個人ブログを作成しました。

今回個人ブログを作るに当たって、譲れない点として 今回は記事に持ち出しが簡単になるように本文自体はMarkdown
で書くというものを掲げています。  
これなら個人ブログは閉じて Zenn に戻るのも簡単だし、Markdown に対応しているサービスにならそのまま持っていけるのと、  
今使っている技術スタックを変えたくなったときに比較的かんたんに変えれるような仕様にしました。

## 技術選定について

仕事で使っていない技術を使ってみたいというのもあり、今回は以下の技術を採用しました。

### Astro

https://astro.build/

Astro を採用した理由は Markdown で書いた記事を静的な HTML に変換して配信がしたかったからです。
他のフレームワークと比較して決定したわけではなく、ほんとに直感的に選びました。
どのフレームワークを使っても、大体同じ機能があって同じことができるので、ここは本当に好みです。
実際のところ、Next.js でも Gatsby でも Astro でもなんでもよくて、ブログを作り出したとき Astro
が結構活発だった気がしたらから採用しました。  
この記事を書きながらv3 からv4 に更新したので、今のところ最新の Astro を使っています。

### Cloudflare Pages

https://pages.cloudflare.com/

最近イケイケだということもありますが、仕事では AWS
ばかりで他のサービスを使用することがないので慣れていない環境にチャレンジしたいと思い採用しました。  
Google Domains がサービス終了するということもあり、ドメインをCloudflare
に移管していたのでちょうどよかったかもしれません。  
またブログ程度の使い方だとお金がかからないのもありがたいです。

### GitHub Actions

https://github.co.jp/features/actions

Cloudflare Pages はGitHubと統合することができて、push したら自動的に変更が反映される機能がありますが、
asdf を使ってNode.js のバージョン管理をしていることもあり、 そのままでは使えなかったので、GitHub Actions を使ってmain
ブランチにpush したら自動的にCloudflare Pages にデプロイするようにしました。

### さいごに

結局このブログがどこまで続くかはわかりませんが、 Astro とか Cloudflare Pages を仕事で使う機会はなかったのでいい経験になりました。

ブログ一発目の記事でこのようなことを書くことはあまり良くない気もしますが、 NueJS も気になっていて、
来年のこの頃にはAstro 製のブログをNueJS で書き直したみたいなことを書きたいなと思っています。
https://nuejs.org/docs/nuejs/

これくらいの規模なら数日あれば NueJS に置き換えれるだろし、新しいフレームワークを触るにはいいんじゃないかな？と思っています。
